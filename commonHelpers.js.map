{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst API_KEY = '42176661-60cd7e02e4c469a287416d2c6';\nconst photoEl = document.querySelector('.photo-container-js');\n\n\nfunction clearGallery() {\n  photoEl.empty();  \n}\n\nfunction insertImages(images) {\n  images.forEach(hit => {\n    const imageCard = `\n      <div class=\"image-card\">\n        <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n        <div class=\"image-details\">\n          <p class=\"detail\">Likes ${hit.likes}</p>\n          <p class=\"detail\">Views ${hit.views}</p>\n          <p class=\"detail\">Comments ${hit.comments}</p>\n          <p class=\"detail\">Downloads ${hit.downloads}</p>\n        </div>\n      </div>\n    `;\n   photoEl.insertAdjacentHTML('beforeend', imageCard);\n  });\n}\n\n\nfunction performSearch(searchQuery) {\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: imageType,\n    orientation: orientation,\n    safesearch: safeSearch,\n\n  });\n  \n\n  const URL = `https://pixabay.com/api/?${params}`;\n \n\n  fetch(URL)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n\n      const imageContainer = document.getElementById('gallery');\n      imageContainer.innerHTML = '';\n\n      if (parseInt(data.totalHits) > 0) {\n        const images = data.hits.map(item => ({\n          webformatURL: item.webformatURL,\n          tags: item.tags,\n          likes: item.likes,\n          views: item.views,\n          comments: item.comments,\n          downloads: item.downloads,\n        }));\n\n        insertImages(images);\n      } else {\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: 'topCenter',\n        });\n      }\n    })\n    .catch(error => {\n      console.error('Error during fetch:', error.message);\n    });\n}\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    document.querySelector('.js-search-form').addEventListener('submit', function (event) {\n        event.preventDefault();\n\n        const searchInputValue = document.querySelector('.input').value;\n        if (searchInputValue.trim() !== '') {\n            performSearch(searchInputValue);\n        } else {\n            iziToast.error({\n                message: 'Please enter a valid search query.',\n                position: 'topRight',\n            });\n        }\n\n        event.target.reset();\n    });\n});\n\n\n\n\n\n"],"names":["API_KEY","photoEl","insertImages","images","hit","imageCard","performSearch","searchQuery","imageType","orientation","URL","response","data","imageContainer","item","iziToast","error","event","searchInputValue"],"mappings":"svBAMA,MAAMA,EAAU,qCACVC,EAAU,SAAS,cAAc,qBAAqB,EAO5D,SAASC,EAAaC,EAAQ,CAC5BA,EAAO,QAAQC,GAAO,CACpB,MAAMC,EAAY;AAAA;AAAA,oBAEFD,EAAI,sBAAsBA,EAAI;AAAA;AAAA,oCAEdA,EAAI;AAAA,oCACJA,EAAI;AAAA,uCACDA,EAAI;AAAA,wCACHA,EAAI;AAAA;AAAA;AAAA,MAIzCH,EAAQ,mBAAmB,YAAaI,CAAS,CACpD,CAAG,CACH,CAGA,SAASC,EAAcC,EAAa,CAClC,MAAMC,EAAY,QACZC,EAAc,aAYdC,EAAM,4BAVG,IAAI,gBAAgB,CACjC,IAAKV,EACL,EAAGO,EACH,WAAYC,EACZ,YAAaC,EACb,WAAY,EAEhB,CAAG,IAMD,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CAEZ,MAAMC,EAAiB,SAAS,eAAe,SAAS,EAGxD,GAFAA,EAAe,UAAY,GAEvB,SAASD,EAAK,SAAS,EAAI,EAAG,CAChC,MAAMT,EAASS,EAAK,KAAK,IAAIE,IAAS,CACpC,aAAcA,EAAK,aACnB,KAAMA,EAAK,KACX,MAAOA,EAAK,MACZ,MAAOA,EAAK,MACZ,SAAUA,EAAK,SACf,UAAWA,EAAK,SACjB,EAAC,EAEFZ,EAAaC,CAAM,CAC3B,MACQY,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,sBAAuBA,EAAM,OAAO,CACxD,CAAK,CACL,CAKA,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,SAAS,cAAc,iBAAiB,EAAE,iBAAiB,SAAU,SAAUC,EAAO,CAClFA,EAAM,eAAc,EAEpB,MAAMC,EAAmB,SAAS,cAAc,QAAQ,EAAE,MACtDA,EAAiB,KAAM,IAAK,GAC5BZ,EAAcY,CAAgB,EAE9BH,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,UAC1B,CAAa,EAGLE,EAAM,OAAO,OACrB,CAAK,CACL,CAAC"}
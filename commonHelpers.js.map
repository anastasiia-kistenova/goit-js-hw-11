{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst API_KEY = '42176661-60cd7e02e4c469a287416d2c6';\nconst photoEl = document.querySelector('.photo-container-js');\n\n\nfunction clearGallery() {\n  photoEl.empty();  \n}\n\n\nfunction showLoader() {\n\n  const loader = document.createElement('div');\n  loader.className = 'loader';\n  \n  photoEl.appendChild(loader);\n}\n\nfunction hideLoader() {\n \n  const loader = photoEl.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n\n\n\nfunction insertImages(images) {\n  images.forEach(hit => {\n    const imageCard = `\n      <li class=\"image-card\">\n      <a class=\"image-link\" href=\"${hit.largeImageURL}\">\n        <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\"></a>\n        <div class=\"image-details\">\n          <p class=\"detail\">Likes ${hit.likes}</p>\n          <p class=\"detail\">Views ${hit.views}</p>\n          <p class=\"detail\">Comments ${hit.comments}</p>\n          <p class=\"detail\">Downloads ${hit.downloads}</p>\n        </div>\n      </li>\n    `;\n\n     photoEl.insertAdjacentHTML('beforeend', imageCard);\n\n  });\n}\n\n\nfunction performSearch(searchQuery) {\n  showLoader();\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: imageType,\n    orientation: orientation,\n    safesearch: safeSearch,\n\n  });\n  \n\n  const URL = `https://pixabay.com/api/?${params}`;\n \n\n  fetch(URL)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      hideLoader();\n\n      const imageContainer = document.getElementById('gallery');\n      imageContainer.innerHTML = '';\n\n      if (parseInt(data.totalHits) > 0) {\n        const images = data.hits.map(item => ({\n          webformatURL: item.webformatURL,\n          tags: item.tags,\n          likes: item.likes,\n          views: item.views,\n          comments: item.comments,\n          downloads: item.downloads,\n          largeImageURL: item.largeImageURL,\n        }));\n\n        insertImages(images);\n\n        let lightbox = new SimpleLightbox('.image-card a', { captionsData: \"alt\",});\n        lightbox.refresh();\n\n      } else {\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: 'topCenter',\n        });\n      }\n    })\n    .catch(error => {\n      hideLoader();\n      console.error('Error during fetch:', error.message);\n    });\n}\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    document.querySelector('.js-search-form').addEventListener('submit', function (event) {\n        event.preventDefault();\n\n        const searchInputValue = document.querySelector('.input').value;\n        if (searchInputValue.trim() !== '') {\n            performSearch(searchInputValue);\n        } else {\n            iziToast.error({\n                message: 'Please enter a valid search query.',\n                position: 'topRight',\n            });\n        }\n\n        event.target.reset();\n    });\n});\n\n\n\n\n\n\n"],"names":["API_KEY","photoEl","showLoader","loader","hideLoader","insertImages","images","hit","imageCard","performSearch","searchQuery","imageType","orientation","safeSearch","URL","response","data","imageContainer","item","SimpleLightbox","iziToast","error","event","searchInputValue"],"mappings":"6vBAMA,MAAMA,EAAU,qCACVC,EAAU,SAAS,cAAc,qBAAqB,EAQ5D,SAASC,GAAa,CAEpB,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SAEnBF,EAAQ,YAAYE,CAAM,CAC5B,CAEA,SAASC,GAAa,CAEpB,MAAMD,EAASF,EAAQ,cAAc,SAAS,EAC1CE,GACFA,EAAO,OAAM,CAEjB,CAIA,SAASE,EAAaC,EAAQ,CAC5BA,EAAO,QAAQC,GAAO,CACpB,MAAMC,EAAY;AAAA;AAAA,oCAEcD,EAAI;AAAA,oBACpBA,EAAI,sBAAsBA,EAAI;AAAA;AAAA,oCAEdA,EAAI;AAAA,oCACJA,EAAI;AAAA,uCACDA,EAAI;AAAA,wCACHA,EAAI;AAAA;AAAA;AAAA,MAKvCN,EAAQ,mBAAmB,YAAaO,CAAS,CAEtD,CAAG,CACH,CAGA,SAASC,EAAcC,EAAa,CAClCR,IACA,MAAMS,EAAY,QACZC,EAAc,aACdC,EAAa,GAWbC,EAAM,4BAVG,IAAI,gBAAgB,CACjC,IAAKd,EACL,EAAGU,EACH,WAAYC,EACZ,YAAaC,EACb,WAAYC,CAEhB,CAAG,IAMD,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZZ,IAEA,MAAMa,EAAiB,SAAS,eAAe,SAAS,EAGxD,GAFAA,EAAe,UAAY,GAEvB,SAASD,EAAK,SAAS,EAAI,EAAG,CAChC,MAAMV,EAASU,EAAK,KAAK,IAAIE,IAAS,CACpC,aAAcA,EAAK,aACnB,KAAMA,EAAK,KACX,MAAOA,EAAK,MACZ,MAAOA,EAAK,MACZ,SAAUA,EAAK,SACf,UAAWA,EAAK,UAChB,cAAeA,EAAK,aACrB,EAAC,EAEFb,EAAaC,CAAM,EAEJ,IAAIa,EAAe,gBAAiB,CAAE,aAAc,KAAK,CAAE,EACjE,QAAO,CAExB,MACQC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdjB,IACA,QAAQ,MAAM,sBAAuBiB,EAAM,OAAO,CACxD,CAAK,CACL,CAKA,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,SAAS,cAAc,iBAAiB,EAAE,iBAAiB,SAAU,SAAUC,EAAO,CAClFA,EAAM,eAAc,EAEpB,MAAMC,EAAmB,SAAS,cAAc,QAAQ,EAAE,MACtDA,EAAiB,KAAM,IAAK,GAC5Bd,EAAcc,CAAgB,EAE9BH,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,UAC1B,CAAa,EAGLE,EAAM,OAAO,OACrB,CAAK,CACL,CAAC"}